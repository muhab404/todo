<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Todo App (Students & Engineers)</title>
    <style>
      body { font-family: Arial, sans-serif; max-width: 800px; margin: 2rem auto; }
      form { margin-bottom: 1rem; }
      .todo { padding: .5rem; border-bottom: 1px solid #eee; display:flex; justify-content:space-between; align-items:center;}
      .done { text-decoration: line-through; color: gray; }
      .controls a { margin-left: .5rem; }
    </style>
  </head>
  <body>
    <h1>Study & Work ToDos</h1>
    <form action="/add" method="post">
      <input name="title" placeholder="Add task e.g. Study Algorithms 2 hours" style="width:80%" required>
      <button type="submit">Add</button>
    </form>

    {% for t in todos %}
    <div class="todo">
      <div>
        <strong class="{{ 'done' if t.done }}">{{ t.title }}</strong>
        <div style="font-size: .8rem; color: #666">{{ t.created_at.strftime('%Y-%m-%d %H:%M') }}</div>
      </div>
      <div class="controls">
        <a href="{{ url_for('toggle', todo_id=t.id) }}">{{ 'Undo' if t.done else 'Done' }}</a>
        <a href="{{ url_for('delete', todo_id=t.id) }}" onclick="return confirm('Delete?')">Delete</a>
      </div>
    </div>
    {% else %}
    <p>No tasks yet â€” add something!</p>
    {% endfor %}
  </body>
</html>
